# 数据库维护

## 备份数据

由于数据库文件总是处于打开和使用状态，普通的文件副本备份不一定总是有效。

- 使用命令行实用程序`mysqldump`转储所有数据库内容到某个外部文件。
- 可用命令行实用程序`mysqlhotcopy`从一个数据库复制所有数据。
- 可以使用 MySQL 的`BACKUP TABLE`或`SELECT INTO OUTFILE`转储所有数据到某个外部文件。

## 进行数据库维护

- `ANALYZE TABLE`，用来检查表键是否正确。
- `CHECK TABLE`用来针对许多问题对表进行检查。
- 如果 MyISAM 表访问产生不正确和不一致的结果，可能需要用`REPAIR TABLE`来修复相应的表。
- 如果从一个表中删除大量数据，应该使用`OPTIMIZE TABLE`来收回所用的空间，从而优化表的性能。

## 诊断启动问题

几个重要的 mysqld 命令行选项：

- `--help`显示帮助——一个选项列表；
- `--safe-mode`装载减去某些最佳配置的服务器；
- `--verbose`显示全文本消息（为获得更详细的帮助消息与`--help`
  联合使用）；
- `--version`显示版本信息然后退出。

## 查看日志文件

- 错误日志（hostname.err）。它包含启动和关闭问题以及任意关键错误的细节。
- 查询日志（hostname.log）。它记录所有 MySQL 活动。
- 二进制日志（hostname-bin）。它记录更新过数据（或者可能更新过数据）的所有语句。
- 缓慢查询日志（hostname-slow.log）。此日志记录执行缓慢的任何查询。
